import mapboxgl from 'mapbox-gl/src/index'

class PitchNavigationControl extends mapboxgl.NavigationControl {
  onAdd (map) {
    mapboxgl.NavigationControl.prototype.onAdd.call(this, map)
    const onTiltButtonClick = () => map.easeTo({'pitch': (map.getPitch() + 30) % 90})
    const button = this._createButton('mapboxgl-ctrl-icon', 'Pitch', onTiltButtonClick)
    button.style.backgroundImage = 'url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20style%3D%22fill%3A%23333333%22%20d%3D%22m%2011.65934%2C10.961821%200%2C-0.044%20-0.263736%2C-3.5164999%20q%20-0.01099%2C-0.1429%20-0.120879%2C-0.2473%20-0.10989%2C-0.1044%20-0.252747%2C-0.1044%20l%20-2.0439562%2C0%20q%20-0.142857%2C0%20-0.252747%2C0.1044%20-0.1098899%2C0.1044%20-0.1208793%2C0.2473%20l%20-0.2637363%2C3.5164999%200%2C0.044%20q%20-0.010989%2C0.1319%200.087912%2C0.2198%200.098901%2C0.088%200.2307693%2C0.088%20l%202.6813185%2C0%20q%200.131868%2C0%200.23077%2C-0.088%200.0989%2C-0.088%200.08791%2C-0.2198%20z%20M%2020%2C16.093721%20q%200%2C0.8022%20-0.505494%2C0.8022%20l%20-7.736264%2C0%20q%200.142857%2C0%200.241758%2C-0.1044%200.0989%2C-0.1044%200.08791%2C-0.2473%20l%20-0.219781%2C-2.8131%20q%20-0.01099%2C-0.1429%20-0.120878%2C-0.2473%20-0.10989%2C-0.1044%20-0.252748%2C-0.1044%20l%20-2.9890109%2C0%20q%20-0.142857%2C0%20-0.252747%2C0.1044%20-0.1098905%2C0.1044%20-0.1208793%2C0.2473%20l%20-0.21978%2C2.8131%20q%20-0.010989%2C0.1429%200.087912%2C0.2473%200.098901%2C0.1044%200.2417581%2C0.1044%20l%20-7.7362638%2C0%20q%20-0.505492%2C0%20-0.505492%2C-0.8022%200%2C-0.5934%200.285714%2C-1.2747%20L%204.8681318%2C3.3464213%20q%200.087912%2C-0.2087%200.2857143%2C-0.3626%200.1978022%2C-0.1538%200.4175824%2C-0.1538%20l%203.7252748%2C0%20q%20-0.142857%2C0%20-0.2527475%2C0.1044%20-0.10989%2C0.1044%20-0.1208788%2C0.2472%20l%20-0.1648352%2C2.1099%20q%20-0.010989%2C0.1538%200.087912%2C0.2528%200.098901%2C0.099%200.2417587%2C0.099%20l%201.8241755%2C0%20q%200.142857%2C0%200.241758%2C-0.099%200.0989%2C-0.099%200.08791%2C-0.2528%20l%20-0.164833%2C-2.1099%20q%20-0.01099%2C-0.1428%20-0.120879%2C-0.2472%20-0.10989%2C-0.1044%20-0.252747%2C-0.1044%20l%203.725275%2C0%20q%200.219779%2C0%200.417582%2C0.1538%200.197802%2C0.1539%200.285714%2C0.3626%20L%2019.714286%2C14.819021%20Q%2020%2C15.500321%2020%2C16.093721%20Z%22%2F%3E%3C%2Fsvg%3E%0A")'
    button.style.backgroundPosition = 'center'
    button.style.backgroundRepeat = 'no-repeat'
    return this._container
  }
}

export default PitchNavigationControl
